<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Admin Guide - /Gearpump/</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">/Gearpump/</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../introduction">Introduction</a>
                            </li>
                        
                            <li >
                                <a href="../getstarted">Get Started</a>
                            </li>
                        
                            <li >
                                <a href="../concepts">Concepts</a>
                            </li>
                        
                            <li class="active">
                                <a href=".">Admin Guide</a>
                            </li>
                        
                            <li >
                                <a href="../how_to_write_a_streaming_application">Streaming Application Developer Guide</a>
                            </li>
                        
                            <li >
                                <a href="../how_to_write_a_general_distributed_application">Non-Streaming Application Developer Guide</a>
                            </li>
                        
                            <li >
                                <a href="../performance">Performance Benchmark</a>
                            </li>
                        
                            <li >
                                <a href="../internal">Gearpump Internals</a>
                            </li>
                        
                            <li >
                                <a href="../examplewalkthrough">Kafka Use Case Code Walkthrough</a>
                            </li>
                        
                            <li >
                                <a href="../commandlinesyntax">Command Line Tools</a>
                            </li>
                        
                            <li >
                                <a href="../restapi">Rest API Guide</a>
                            </li>
                        
                            <li >
                                <a href="../configuration_guide">Configuration Guide</a>
                            </li>
                        
                            <li >
                                <a href="../high_availability_guide">High Availability Guide</a>
                            </li>
                        
                            <li >
                                <a href="../intellij_eclipse_development_environment_setup">IDE setup</a>
                            </li>
                        
                            <li >
                                <a href="../faq">FAQ</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Downloads <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../downloads/downloads">Latest Version</a>
                            </li>
                        
                            <li >
                                <a href="../../downloads/release_notes">Release Notes</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../publications/publications">Publications</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../usecases/use_cases">Use Cases</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../roadmap">RoadMap</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../about/license">License</a>
                            </li>
                        
                            <li >
                                <a href="../../about/acknowledge">Acknowledgement</a>
                            </li>
                        
                            <li >
                                <a href="../../about/contact_us">Contact Us</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li >
                    <a rel="next" href="../concepts">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../how_to_write_a_streaming_application">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
                <li>
                    <a href="http://github.com/intel-hadoop/gearpump">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#admin-guide">Admin Guide</a></li>
        
            <li><a href="#pre-requisite">Pre-requisite</a></li>
        
            <li><a href="#how-to-install">How to Install</a></li>
        
            <li><a href="#start-the-cluster-daemons">Start the Cluster Daemons</a></li>
        
            <li><a href="#start-ui">Start UI</a></li>
        
            <li><a href="#submit-an-new-application">Submit an new Application</a></li>
        
            <li><a href="#manage-the-applications">Manage the applications</a></li>
        
            <li><a href="#security">Security</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="admin-guide">Admin Guide</h1>
<h2 id="pre-requisite">Pre-requisite</h2>
<p>Gearpump cluster can be installed on Windows OS and Linux.
Before installation, you need to decide how many machines are used to run this cluster. For each machine, the requirements are listed in table below.</p>
<p><strong>  Table: Environment requirement on single machine</strong></p>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td>Memory</td>
<td>2GB free memory is required to run the cluster</td>
</tr>
<tr>
<td>Java</td>
<td>JRE 6 or above</td>
</tr>
<tr>
<td>User permission</td>
<td>Root permission is not required</td>
</tr>
<tr>
<td>Network Ethernet</td>
<td>(TCP/IP)</td>
</tr>
<tr>
<td>CPU</td>
<td>Nothing special</td>
</tr>
<tr>
<td>HDFS installation</td>
<td>Default is not required. You only need to install it when you want to store the application jars in HDFS.</td>
</tr>
<tr>
<td>Kafka installation</td>
<td>Default is not required. You need to install Kafka when you want the at-least once message delivery feature. Currently, the only supported data source for this feature is Kafka</td>
</tr>
</tbody>
</table>
<p><strong>  Table: The default port used in Gearpump:</strong></p>
<table>
<thead>
<tr>
<th>usage</th>
<th>Port</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dashboard UI</td>
<td>8090</td>
<td>Web UI.</td>
</tr>
<tr>
<td>Dashboard web socket service</td>
<td>8091</td>
<td>UI backend web socket service for long connection.</td>
</tr>
<tr>
<td>Master port</td>
<td>3000</td>
<td>Every other role like worker, appmaster, executor, user use this port to communicate with Master.</td>
</tr>
</tbody>
</table>
<h2 id="how-to-install">How to Install</h2>
<p>The installation package can be downloaded from <a href="../../downloads/downloads/">Download Address</a>. You are suggested to unzip the package to same directory path on every machine you planned to install Gearpump.
To install Gearpump, you at least need to change the configuration in conf/gear.conf. </p>
<table>
<thead>
<tr>
<th>Config</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>base.akka.remote.netty.tcp.hostname</td>
<td>127.0.0.1</td>
<td>Host or IP address of current machine. The ip/host need to be reachable from other machines in the cluster.</td>
</tr>
<tr>
<td>Gearpump.cluster.masters</td>
<td>["127.0.0.1:3000"]</td>
<td>List of all master nodes, with each item represents host and port of one master.</td>
</tr>
<tr>
<td>gearpump.worker.slots</td>
<td>100</td>
<td>how many slots this worker has</td>
</tr>
</tbody>
</table>
<p>Besides this, there are other optional configurations related with logs, metrics, transports, ui. You can refer to <a href="../../0.3/configuration_guide/">Configuration Guide</a> for more details.</p>
<h2 id="start-the-cluster-daemons">Start the Cluster Daemons</h2>
<p>Gearpump can be started in single JVM, single machine, or a cluster of machines.</p>
<h3 id="local-mode">Local Mode</h3>
<p>In local mode, master node and worker node will be started in single JVM. </p>
<p>For example:</p>
<pre><code class="bash">bin/local -ip host -port 3000
</code></pre>

<p><strong>NOTE</strong>: on Linux, you can use "nohup command &amp;" to start command as background process.</p>
<p><strong>NOTE</strong>: on windows: use local.bat instead.</p>
<h3 id="distributed-mode">Distributed Mode</h3>
<p>In distributed mode, you can start master and worker in different JVM. </p>
<h4 id="to-start-master">To start master:</h4>
<pre><code class="bash">bin/master -ip xx -port xx
</code></pre>

<p>The ip and port will be checked against setting under conf/gear.conf, so you need to make sure they are consistent with settings in gear.conf.</p>
<p><strong>NOTE</strong>: for high availability, please check <a href="../high_availability_guide">Master HA Guide</a></p>
<h4 id="to-start-worker">To start worker:</h4>
<pre><code class="bash">bin/worker -master ip:port
</code></pre>

<h2 id="start-ui">Start UI</h2>
<pre><code class="bash">bin/services -master 127.0.0.1:3000
</code></pre>

<p>After UI is started, you can brower http://127.0.0.1:8090 to view the cluster status.</p>
<p><img alt="" src="../../img/dashboard.gif" /></p>
<p><strong>NOTE:</strong> The UI port can be configured in gear.conf. Check <a href="../../0.3/configuration_guide">Configuration Guide</a> for information.</p>
<h2 id="submit-an-new-application">Submit an new Application</h2>
<p>You can use command bin/gear app to submit To check the syntax:</p>
<pre><code class="bash">bin/gear app -jar xx.jar MainClass &lt;arg1&gt; &lt;arg2&gt; ...
</code></pre>

<h2 id="manage-the-applications">Manage the applications</h2>
<p>After the application is started, you can view the status of application in UI. In the UI, you can allowed to shutdown the application. </p>
<p><img alt="" src="../../img/dashboard_3.png" /></p>
<p><strong>NOTE</strong>: Besides UI, there is also command line tools to manage the application, please check <a href="../../documents/commandlinesyntax">Command line tools</a> for information.</p>
<h2 id="security">Security</h2>
<p>Every application have a submitter user. We will separate the application from different user, like different log folder for different applications. However, for now there is no authentication or authorization in place to protect against unauthorized access. </p>
</div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>